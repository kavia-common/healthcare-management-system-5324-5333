{"is_source_file": true, "format": "Python", "description": "This file defines data schemas using Pydantic for a healthcare management system, including models for user authentication, patient profiles, and MongoDB object ID handling.", "external_files": ["bson", "// external library for MongoDB ObjectId handling, with fallback to str if unavailable", "pydantic", "// library for data validation and settings management using Python type annotations"], "external_methods": ["pydantic.BaseModel", "pydantic.EmailStr", "pydantic.Field", "pydantic.field_validator"], "published": ["convert_object_ids", "MongoModelOut", "UserCreate", "UserLogin", "UserInDB", "Token", "PatientCreate", "PatientUpdate", "PatientOut"], "classes": [{"name": "MongoModelOut", "description": "Base output model for MongoDB documents, mapping internal _id to string id with custom JSON encoding.", "methods": [{"name": "_validate_id", "description": "Validates and converts ObjectId or string to string for the id field."}]}, {"name": "UserCreate", "description": "Model for user registration payload."}, {"name": "UserLogin", "description": "Model for user login payload."}, {"name": "UserInDB", "description": "Internal representation of a user stored in the database."}, {"name": "Token", "description": "Model for JWT token response."}, {"name": "PatientCreate", "description": "Model to create a new patient profile."}, {"name": "PatientUpdate", "description": "Model to update an existing patient profile."}, {"name": "PatientOut", "description": "Public representation of a patient profile, extending MongoModelOut."}], "methods": [{"name": "Any convert_object_ids(obj: Any)", "description": "Recursively converts MongoDB ObjectId instances to strings for JSON serialization.", "scope": "", "scopeKind": ""}, {"name": "str _validate_id(cls, v: Any)", "scope": "MongoModelOut", "scopeKind": "class", "description": "unavailable"}], "calls": ["BaseModel.__init__", "Field", "field_validator", "convert_object_ids", "json_encoders"], "search-terms": ["schemas", "MongoModelOut", "UserCreate", "PatientOut", "ObjectId", "pydantic models", "MongoDB integration"], "state": 2, "file_id": 25, "knowledge_revision": 68, "git_revision": "", "ctags": [{"_type": "tag", "name": "MongoModelOut", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class MongoModelOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PatientCreate", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class PatientCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PatientOut", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class PatientOut(MongoModelOut):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PatientUpdate", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class PatientUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Token", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class Token(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserCreate", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class UserCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserInDB", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class UserInDB(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserLogin", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^class UserLogin(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_BsonObjectId", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    _BsonObjectId = str  # type: ignore$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_BsonObjectId", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    from bson import ObjectId as _BsonObjectId  # type: ignore$/", "language": "Python", "kind": "unknown", "nameref": "unknown:ObjectId"}, {"_type": "tag", "name": "_validate_id", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    def _validate_id(cls, v: Any) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(cls, v: Any)", "scope": "MongoModelOut", "scopeKind": "class"}, {"_type": "tag", "name": "access_token", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    access_token: str = Field(..., description=\"JWT access token\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "age", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    age: Optional[int] = Field(None, description=\"Age\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "PatientOut", "scopeKind": "class"}, {"_type": "tag", "name": "age", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    age: Optional[int] = Field(None, ge=0)$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "age", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    age: Optional[int] = Field(None, ge=0, description=\"Age\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "PatientCreate", "scopeKind": "class"}, {"_type": "tag", "name": "allergies", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    allergies: List[str] = Field(default_factory=list, description=\"Allergies\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "PatientCreate", "scopeKind": "class"}, {"_type": "tag", "name": "allergies", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    allergies: List[str] = Field(default_factory=list, description=\"Allergies\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "PatientOut", "scopeKind": "class"}, {"_type": "tag", "name": "allergies", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    allergies: Optional[List[str]] = Field(None)$/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "convert_object_ids", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^def convert_object_ids(obj: Any) -> Any:$/", "language": "Python", "typeref": "typename:Any", "kind": "function", "signature": "(obj: Any)"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    email: EmailStr = Field(..., description=\"Email\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserLogin", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User email (unique)\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    email: Optional[EmailStr] = Field(None, description=\"Email\")$/", "language": "Python", "typeref": "typename:Optional[EmailStr]", "kind": "variable", "scope": "PatientCreate", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    email: Optional[EmailStr] = Field(None, description=\"Email\")$/", "language": "Python", "typeref": "typename:Optional[EmailStr]", "kind": "variable", "scope": "PatientOut", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    full_name: Optional[str] = Field(None)$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    full_name: Optional[str] = Field(None, description=\"Full name\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientCreate", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    full_name: Optional[str] = Field(None, description=\"Full name\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientOut", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    full_name: Optional[str] = Field(None, description=\"Full name\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    full_name: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserInDB", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    id: str = Field(..., description=\"Document id (stringified ObjectId)\", alias=\"_id\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "MongoModelOut", "scopeKind": "class"}, {"_type": "tag", "name": "medical_history", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    medical_history: List[str] = Field(default_factory=list, description=\"Medical history\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "PatientCreate", "scopeKind": "class"}, {"_type": "tag", "name": "medical_history", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    medical_history: List[str] = Field(default_factory=list, description=\"Medical history\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "PatientOut", "scopeKind": "class"}, {"_type": "tag", "name": "medical_history", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    medical_history: Optional[List[str]] = Field(None)$/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "PatientUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    model_config = {$/", "language": "Python", "kind": "variable", "scope": "MongoModelOut", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    password: str = Field(..., description=\"Password\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserLogin", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    password: str = Field(..., min_length=6, description=\"Password (min 6 chars)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "token_type", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    token_type: str = Field(\"bearer\", description=\"Token type\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    user_id: Optional[str] = Field(None, description=\"Associated user id\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientCreate", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/app/models/schemas.py", "pattern": "/^    user_id: Optional[str] = Field(None, description=\"Associated user id\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PatientOut", "scopeKind": "class"}], "hash": "f80d6653e2c9c546a236ae8f3d69b0bb", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/app/models/schemas.py", "fields": [{"name": "_BsonObjectId = str  # type: ignore", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str access_token", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] age", "scope": "PatientOut", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] allergies", "scope": "PatientCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] allergies", "scope": "PatientUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "EmailStr email", "scope": "UserLogin", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[EmailStr] email", "scope": "PatientCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] full_name", "scope": "PatientUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "MongoModelOut", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] medical_history", "scope": "PatientCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] medical_history", "scope": "PatientUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = {", "scope": "MongoModelOut", "scopeKind": "class", "description": "unavailable"}, {"name": "str password", "scope": "UserLogin", "scopeKind": "class", "description": "unavailable"}, {"name": "str token_type", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] user_id", "scope": "PatientCreate", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"68": ""}]}