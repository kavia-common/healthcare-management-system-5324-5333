{"is_source_file": true, "format": "Python", "description": "This is a FastAPI backend application source file that sets up the main application, including middleware, routes, database initialization, and health check endpoint for a Healthcare Management System.", "external_files": ["src.core.config", "src.db.mongo", "src.utils.errors", "src.routers.auth", "src.routers.users", "src.routers.patients", "src.routers.doctors", "src.routers.consultations", "src.routers.medical_records"], "external_methods": ["init_mongo", "close_mongo", "get_db", "ensure_critical_indexes", "register_exception_handlers", "get_cors_origins"], "published": ["app"], "classes": [{"name": "FastAPI", "description": "Main FastAPI application class used to create the web server."}], "methods": [{"name": "List[dict] get_openapi_tags()", "description": "Returns OpenAPI tags metadata for grouping endpoints.", "scope": "", "scopeKind": ""}, {"name": "lifespan(app: FastAPI)", "description": "Async context manager for application startup and shutdown activities, including database connection management.", "scope": "", "scopeKind": ""}, {"name": "FastAPI create_app()", "description": "Creates and configures the FastAPI app, including middleware, routers, and exception handlers.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Endpoint for health check, verifying app and database connectivity.", "scope": "create_app", "scopeKind": "function"}], "calls": ["init_mongo()", "ensure_critical_indexes()", "close_mongo()", "get_db()", "register_exception_handlers(app)", "app.add_middleware()", "app.include_router()"], "search-terms": ["FastAPI", "health check endpoint", "MongoDB initialization", "app creation", "CORS middleware", "route registration", "exception handling"], "state": 2, "file_id": 2, "knowledge_revision": 51, "git_revision": "a748f016eddf698ee0d4037403b64445f4276ee5", "revision_history": [{"8": "a748f016eddf698ee0d4037403b64445f4276ee5"}, {"10": "a748f016eddf698ee0d4037403b64445f4276ee5"}, {"51": "a748f016eddf698ee0d4037403b64445f4276ee5"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^app = create_app()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "auth_router", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^from src.routers import auth as auth_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:auth"}, {"_type": "tag", "name": "consultations_router", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^from src.routers import consultations as consultations_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:consultations"}, {"_type": "tag", "name": "create_app", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^def create_app() -> FastAPI:$/", "language": "Python", "typeref": "typename:FastAPI", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "doctors_router", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^from src.routers import doctors as doctors_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:doctors"}, {"_type": "tag", "name": "get_openapi_tags", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^def get_openapi_tags() -> List[dict]:$/", "language": "Python", "typeref": "typename:List[dict]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^    async def health_check():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "create_app", "scopeKind": "function"}, {"_type": "tag", "name": "lifespan", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^async def lifespan(app: FastAPI):$/", "language": "Python", "kind": "function", "signature": "(app: FastAPI)"}, {"_type": "tag", "name": "medical_records_router", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^from src.routers import medical_records as medical_records_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:medical_records"}, {"_type": "tag", "name": "patients_router", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^from src.routers import patients as patients_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:patients"}, {"_type": "tag", "name": "users_router", "path": "/home/kavia/workspace/code-generation/healthcare-management-system-5324-5333/fastapi_backend/src/api/main.py", "pattern": "/^from src.routers import users as users_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:users"}], "hash": "be38f993d3f4540753e6d5deaa9367cc", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/src/api/main.py", "fields": [{"name": "app = create_app()", "scope": "", "scopeKind": "", "description": "unavailable"}]}